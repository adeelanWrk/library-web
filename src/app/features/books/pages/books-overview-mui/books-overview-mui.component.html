<mat-spinner *ngIf="isLoading" class="my-4 mx-auto"></mat-spinner>

<!-- {{dataSource.data | json}} -->

<table mat-table [dataSource]="dataSource" class="mat-elevation-z8">

  <ng-container matColumnDef="title">
    <th mat-header-cell *matHeaderCellDef> Title </th>
    <td *matCellDef="let element; let i = index" [attr.rowspan]="getRowSpan('title', i)"
      [style.display]="getRowSpan('title', i) ? '' : 'none'">
      {{ element?.title }}

  </ng-container>

  <ng-container matColumnDef="publisher">
    <th mat-header-cell *matHeaderCellDef> Publisher </th>
    <td mat-cell *matCellDef="let element; let i = index" [attr.rowspan]="getRowSpan('publisher', i)"
      [style.display]="getRowSpan('publisher', i) ? '' : 'none'">
      {{ element.publisher }}
    </td>
  </ng-container>

  <ng-container matColumnDef="price">
    <th mat-header-cell *matHeaderCellDef> Price </th>
    <td class="text-right" mat-cell *matCellDef="let element; let i = index" [attr.rowspan]="getRowSpan('price', i)"
      [style.display]="getRowSpan('price', i) ? '' : 'none'">
      {{ element.price }}
    </td>
  </ng-container>

  <ng-container matColumnDef="authorCount">
    <th mat-header-cell *matHeaderCellDef> Author Count </th>
    <td class="text-right" mat-cell *matCellDef="let element; let i = index" [attr.rowspan]="getRowSpan('authorCount', i)"
      [style.display]="getRowSpan('authorCount', i) ? '' : 'none'">
      {{ element.authorCount }}
    </td>
  </ng-container>

  <ng-container matColumnDef="authorName">
    <th mat-header-cell *matHeaderCellDef> Author </th>
    <td mat-cell *matCellDef="let element"> {{ element.authorName }} </td>
  </ng-container>

  <tr mat-header-row *matHeaderRowDef="headerColumns"></tr>
  <tr mat-row *matRowDef="let row; columns: displayedColumns;"></tr>
</table>


<mat-paginator [length]="paginationProperties.totalItems" [pageSize]="paginationProperties.pageSize"
  [pageSizeOptions]="paginationProperties.pageSizeOptions" (page)="onPageChange($event)">
</mat-paginator>